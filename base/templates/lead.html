<!DOCTYPE html>
<html lang="en">

{% load static %}
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cuba admin is super flexible, powerful, clean &amp; modern responsive bootstrap 5 admin template with unlimited possibilities.">
    <meta name="keywords" content="admin template, Cuba admin template, dashboard template, flat admin template, responsive admin template, web app">
    <meta name="author" content="pixelstrap">
    <link rel="icon" href="{% static 'assets/images/nexgen.jpg' %}" type="image/x-icon">
    <link rel="shortcut icon" href="{% static 'assets/images/nexgen.jpg' %}" type="image/x-icon">
    <title>Nexgen-Sales Management</title>
    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Rubik:400,400i,500,500i,700,700i&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i,900&amp;display=swap" rel="stylesheet">
    <!-- Font Awesome-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/fontawesome.css' %}">
    <!-- ico-font-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/icofont.css' %}">
    <!-- Themify icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/themify.css' %}">
    <!-- Flag icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/flag-icon.css' %}">
    <!-- Feather icon-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/feather-icon.css' %}">
    <!-- Plugins css start-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/slick-theme.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/scrollbar.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/jquery.dataTables.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/dataTables.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/autoFill.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/keyTable.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/buttons.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/fixedHeader.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/responsive.bootstrap5.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/rowReorder.bootstrap5.css' %}">
    <!-- Plugins css Ends-->
    <!-- Bootstrap css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/vendors/bootstrap.css' %}">
    <!-- App css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/style.css' %}">
    <link id="color" rel="stylesheet" href="{% static 'assets/css/color-1.css' %}" media="screen">
    <!-- Responsive css-->
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/responsive.css' %}">
</head>


<body>
    <!-- tap on top starts-->
    <div class="tap-top"><i data-feather="chevrons-up"></i></div>
    <!-- tap on tap ends-->
    <!-- loader starts-->
    <div class="loader-wrapper">
        <div class="loader-index"> <span></span></div>
        <svg>
            <defs></defs>
            <filter id="goo">
                <fegaussianblur in="SourceGraphic" stddeviation="11" result="blur"></fegaussianblur>
                <fecolormatrix in="blur" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo">
                </fecolormatrix>
            </filter>
        </svg>
    </div>
    <!-- loader ends-->
    <!-- page-wrapper Start-->
    <div class="page-wrapper compact-wrapper" id="pageWrapper">
        <!-- Page Header Start-->
        <div class="page-header">
            <div class="header-wrapper row m-0">

                <div class="header-logo-wrapper col-auto p-0">
                    <div class="logo-wrapper">
                        <a class="logo" href="{% url 'login' %}">
                            <img class="img-fluid for-light" src="{% static 'assets/images/nexgen_logo.png' %}" alt="loginpage">
                            <img class="img-fluid for-dark" src="{% static 'assets/images/nexgen_logo.png' %}" alt="loginpage">
                        </a>
                    </div>
                    <div class="toggle-sidebar">
                        <i class="status_toggle middle sidebar-toggle" data-feather="align-center"></i>
                    </div>
                </div>

                <div class="nav-right col-xxl-7 col-xl-6 col-md-7 col-8 pull-right right-header p-0 ms-auto">
                    <ul class="nav-menus">

                        <li class="fullscreen-body">
                            <span id="maximize-screen">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-maximize">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M4 8v-2a2 2 0 0 1 2 -2h2" />
                                    <path d="M4 16v2a2 2 0 0 0 2 2h2" />
                                    <path d="M16 4h2a2 2 0 0 1 2 2v2" />
                                    <path d="M16 20h2a2 2 0 0 0 2 -2v-2" />
                                </svg>

                            </span>
                        </li>


                        <li>
                            <div class="mode">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="icon icon-tabler icons-tabler-outline icon-tabler-sun">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                    <path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0" />
                                    <path
                                        d="M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7" />
                                </svg>

                            </div>
                        </li>


                        <li class="profile-nav onhover-dropdown pe-0 py-0">
                            <div class="d-flex profile-media">
                                <img class="b-r-10" width="40px" src="{% static 'assets/images/nexgen.png' %}" alt />
                                <div class="flex-grow-1">
                                    <span>{{ user.username }}</span>
                                    <p class="mb-0">
                                        Admin <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-down">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M6 9l6 6l6 -6" />
                                        </svg>
                                    </p>
                                </div>
                            </div>
                            <ul class="profile-dropdown onhover-show-div">

                                <li>
                                    <a href="{% url 'login' %}"><i data-feather="log-in"> </i><span>Log
                                            out</span></a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <script class="result-template" type="text/x-handlebars-template">
                  <div class="ProfileCard u-cf">
                    <div class="ProfileCard-avatar"><svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24"
                        height="24"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class="feather feather-airplay m-0"
                      ><path
                          d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"
                        ></path><polygon
                          points="12 15 17 21 7 21 12 15"
                        ></polygon></svg></div>
                    <div class="ProfileCard-details">
                      <div class="ProfileCard-realName">{{name}}</div>
                    </div>
                  </div>
                </script>

            </div>
        </div>
        <!-- Page Header Ends                              -->
        <!-- Page Body Start-->
        <div class="page-body-wrapper">
            <!-- Page Sidebar Start-->
            <div class="sidebar-wrapper" data-sidebar-layout="stroke-svg">
                <div>
                    <div class="logo-wrapper">
                        <a href="{% url 'login' %}">
                            <img class="img-fluid for-light" width="150px" src="{% static 'assets/images/nexgen_logo.png' %}" alt />
                            <img class="img-fluid for-dark" width="150px" src="{% static 'assets/images/nexgen_logo.png' %}" alt />
                        </a>
                        <div class="back-btn"><i class="fa-solid fa-angle-left"></i></div>
                        <div class="toggle-sidebar">
                            <i class="status_toggle middle sidebar-toggle" data-feather="grid">
                            </i>
                        </div>
                    </div>
                    <div class="logo-icon-wrapper">
                        <a href="{% url 'login' %}">
                            <img class="img-fluid" width="40px" src="{% static 'assets/images/nexgen.png' %}" alt />
                        </a>
                    </div>
                    <nav class="sidebar-main">
                        <div class="left-arrow" id="left-arrow">
                            <i data-feather="arrow-left"></i>
                        </div>
                        <div id="sidebar-menu">
                            <ul class="sidebar-links" id="simple-bar">
                                <li class="back-btn">
                                    <div class="mobile-back text-end">
                                        <span>Back</span><i class="fa-solid fa-angle-right ps-2" aria-hidden="true"></i>
                                    </div>
                                </li>
                                <li class="pin-title sidebar-main-title">
                                    <div>
                                        <h6>Pinned</h6>
                                    </div>
                                </li>
                                <li class="sidebar-list">
                                    <i class="fa-solid fa-thumbtack"></i><a class="sidebar-link sidebar-title link-nav"
                                        href="{% url 'home' %}" >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="icon icon-tabler icons-tabler-outline icon-tabler-home-2 stroke-icon">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                                            <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                                            <path d="M10 12h4v4h-4z" />
                                        </svg><span>Dashboard</span></a>
                                </li>
                                <li class="sidebar-list">
                                    <i class="fa-solid fa-thumbtack"></i><a class="sidebar-link sidebar-title link-nav"
                                        href="{% url 'lead' %}" >
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="icon icon-tabler icons-tabler-outline icon-tabler-user stroke-icon">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                                            <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                                        </svg><span>Lead List</span></a>
                                </li>
                                <li class="sidebar-list">
                                    <i class="fa-solid fa-thumbtack"></i><a class="sidebar-link sidebar-title link-nav"
                                        href="{% url 'add-lead' %}">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="icon icon-tabler icons-tabler-outline icon-tabler-user-plus stroke-icon">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                            <path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" />
                                            <path d="M16 19h6" />
                                            <path d="M19 16v6" />
                                            <path d="M6 21v-2a4 4 0 0 1 4 -4h4" />
                                        </svg><span>Add new Lead</span></a>
                                </li>

                            </ul>
                        </div>
                        <div class="right-arrow" id="right-arrow">
                            <i data-feather="arrow-right"></i>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- Page Sidebar Ends-->
            <div class="page-body">
                <div class="container-fluid">
                    <div class="page-title">
                        <div class="row">
                            <div class="col-sm-6">
                                <h3>Lead List</h3>
                            </div>
                            <div class="col-sm-6">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="{% url 'login' %}">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"
                                                stroke-linecap="round" stroke-linejoin="round"
                                                class="icon icon-tabler icons-tabler-outline icon-tabler-home-2 stroke-icon">
                                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                                <path d="M5 12l-2 0l9 -9l9 9l-2 0" />
                                                <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
                                                <path d="M10 12h4v4h-4z" />
                                            </svg></a></li>
                                    <li class="breadcrumb-item">Lead List</li>
                                    <li class="breadcrumb-item active">Lead Datatables</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Delete Confirmation Modal -->
                    <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    Are you sure you want to delete this lead?
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                    <a href="#" id="confirmDeleteBtn" class="btn btn-danger">Delete</a>
                                </div>
                            </div>
                        </div>
                    </div>

                <!-- Container-fluid starts-->
                <div class="container autofill-data-tables">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="card">
                                <div class="card-header pb-0 card-no-border">
                                </div>
                               
                             
                                    <div class="dt-ext table-responsive custom-scrollbar html-expert-table">
                                   
                                        <table class="display table-striped" id="auto-fill">
                                            <div class="row">
                                                <form method="GET" action="{% url 'lead' %}">
                                                    <div class="col-md-3">
                                                        <label class="form-label" for="filterType" style="font-weight: bold;"> </label>
                                                        <select id="filterType" name="filter_type" class="form-control" onchange="toggleDateInputs()">
                                                            <option value="choose" disabled selected>Choose...</option>
                                                            <option value="week">Week</option>
                                                            <option value="month">Month</option>
                                                            <option value="year">Year</option>
                                                            <option value="custom">Custom Date</option>
                                                        </select>
                                                    </div>
                                                    
                                                    <div class="col-md-3 date-inputs" style="display: none;">
                                                        <label class="form-label" for="startDate" style="font-weight: bold;">Start Date</label>
                                                        <input type="date" id="startDate" name="start_date" class="form-control" placeholder="YYYY-MM-DD">
                                                    </div>
                                                    <div class="col-md-3 date-inputs" style="display: none;">
                                                        <label class="form-label" for="endDate" style="font-weight: bold;">End Date</label>
                                                        <input type="date" id="endDate" name="end_date" class="form-control" placeholder="YYYY-MM-DD">
                                                    </div>
                                                    
                                                    <div class="col-md-3">
                                                        <label class="form-label" for="city"></label>
                                                        <select class="form-select" id="city" name="city">
                                                            <option value="" disabled {% if not lead.city %}selected{% endif %}>Select a State/Union Territory</option>
                                                            <option value="Andhra Pradesh" {% if lead.city == 'Andhra Pradesh' %}selected{% endif %}>Andhra Pradesh</option>
                                                            <option value="Arunachal Pradesh" {% if lead.city == 'Arunachal Pradesh' %}selected{% endif %}>Arunachal Pradesh</option>
                                                            <option value="Assam" {% if lead.city == 'Assam' %}selected{% endif %}>Assam</option>
                                                            <option value="Bihar" {% if lead.city == 'Bihar' %}selected{% endif %}>Bihar</option>
                                                            <option value="Chhattisgarh" {% if lead.city == 'Chhattisgarh' %}selected{% endif %}>Chhattisgarh</option>
                                                            <option value="Goa" {% if lead.city == 'Goa' %}selected{% endif %}>Goa</option>
                                                            <option value="Gujarat" {% if lead.city == 'Gujarat' %}selected{% endif %}>Gujarat</option>
                                                            <option value="Haryana" {% if lead.city == 'Haryana' %}selected{% endif %}>Haryana</option>
                                                            <option value="Himachal Pradesh" {% if lead.city == 'Himachal Pradesh' %}selected{% endif %}>Himachal Pradesh</option>
                                                            <option value="Jharkhand" {% if lead.city == 'Jharkhand' %}selected{% endif %}>Jharkhand</option>
                                                            <option value="Karnataka" {% if lead.city == 'Karnataka' %}selected{% endif %}>Karnataka</option>
                                                            <option value="Kerala" {% if lead.city == 'Kerala' %}selected{% endif %}>Kerala</option>
                                                            <option value="Madhya Pradesh" {% if lead.city == 'Madhya Pradesh' %}selected{% endif %}>Madhya Pradesh</option>
                                                            <option value="Maharashtra" {% if lead.city == 'Maharashtra' %}selected{% endif %}>Maharashtra</option>
                                                            <option value="Manipur" {% if lead.city == 'Manipur' %}selected{% endif %}>Manipur</option>
                                                            <option value="Meghalaya" {% if lead.city == 'Meghalaya' %}selected{% endif %}>Meghalaya</option>
                                                            <option value="Mizoram" {% if lead.city == 'Mizoram' %}selected{% endif %}>Mizoram</option>
                                                            <option value="Nagaland" {% if lead.city == 'Nagaland' %}selected{% endif %}>Nagaland</option>
                                                            <option value="Odisha" {% if lead.city == 'Odisha' %}selected{% endif %}>Odisha</option>
                                                            <option value="Punjab" {% if lead.city == 'Punjab' %}selected{% endif %}>Punjab</option>
                                                            <option value="Rajasthan" {% if lead.city == 'Rajasthan' %}selected{% endif %}>Rajasthan</option>
                                                            <option value="Sikkim" {% if lead.city == 'Sikkim' %}selected{% endif %}>Sikkim</option>
                                                            <option value="Tamil Nadu" {% if lead.city == 'Tamil Nadu' %}selected{% endif %}>Tamil Nadu</option>
                                                            <option value="Telangana" {% if lead.city == 'Telangana' %}selected{% endif %}>Telangana</option>
                                                            <option value="Tripura" {% if lead.city == 'Tripura' %}selected{% endif %}>Tripura</option>
                                                            <option value="Uttar Pradesh" {% if lead.city == 'Uttar Pradesh' %}selected{% endif %}>Uttar Pradesh</option>
                                                            <option value="Uttarakhand" {% if lead.city == 'Uttarakhand' %}selected{% endif %}>Uttarakhand</option>
                                                            <option value="West Bengal" {% if lead.city == 'West Bengal' %}selected{% endif %}>West Bengal</option>
                                                            <!-- Union Territories -->
                                                            <option value="Andaman and Nicobar Islands" {% if lead.city == 'Andaman and Nicobar Islands' %}selected{% endif %}>Andaman and Nicobar Islands</option>
                                                            <option value="Chandigarh" {% if lead.city == 'Chandigarh' %}selected{% endif %}>Chandigarh</option>
                                                            <option value="Dadra and Nagar Haveli and Daman and Diu" {% if lead.city == 'Dadra and Nagar Haveli and Daman and Diu' %}selected{% endif %}>Dadra and Nagar Haveli and Daman and Diu</option>
                                                            <option value="Lakshadweep" {% if lead.city == 'Lakshadweep' %}selected{% endif %}>Lakshadweep</option>
                                                            <option value="Delhi" {% if lead.city == 'Delhi' %}selected{% endif %}>Delhi</option>
                                                            <option value="Puducherry" {% if lead.city == 'Puducherry' %}selected{% endif %}>Puducherry</option>
                                                            <option value="Ladakh" {% if lead.city == 'Ladakh' %}selected{% endif %}>Ladakh</option>
                                                            <option value="Lakshadweep" {% if lead.city == 'Lakshadweep' %}selected{% endif %}>Lakshadweep</option>
                                                            <option value="Jammu and Kashmir" {% if lead.city == 'Jammu and Kashmir' %}selected{% endif %}>Jammu and Kashmir</option>
                                                        </select>
                                                    </div>
                                                    
                                                <div class="col-md-3">
                                                    <label class="form-label" for="status"></label>
                                                    <select class="form-select" id="tech_field" name="tech_field" >
                                                        <option selected disabled value="">Select Field</option>
                                                        <option value="IT" {% if lead.tech_field == 'IT' %}selected{% endif %}>IT</option>
                                                        <option value="Non-IT" {% if lead.tech_field == 'Non-IT' %}selected{% endif %}>Non-IT</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label class="form-label" for="status"></label>
                                                    <select class="form-select" id="source" name="source" >
                                                        <option selected disabled value="">Select Source</option>
                                                        <option value="Social media" {% if lead.source == 'Social media' %}selected{% endif %}>Social media</option>
                                                        <option value="Referral" {% if lead.source == 'Referral' %}selected{% endif %}>Referral</option>
                                                        <option value="Job portal" {% if lead.source == 'Job portal' %}selected{% endif %}>Job portal</option>
                                                        <option value="Whatsapp" {% if lead.source == 'Whatsapp' %}selected{% endif %}>Whatsapp</option>
                                                    </select>
                                                </div>
                                                <div class="col-md-3">
                                                    <label class="form-label" for="status"></label>
                                                    <select class="form-select" id="gender" name="gender" >
                                                        <option selected disabled value="">Select Gender</option>
                                                        <option value="Male" {% if lead.gender == 'Male' %}selected{% endif %}>Male</option>
                                                        <option value="Female" {% if lead.gender == 'Female' %}selected{% endif %}>Female</option>
                                                    </select>
                                                </div>
                                                <!-- <div class="col-lg-4 col-md-8">
                                                    <label class="form-label" for="user"></label> <input class="form-control mb-2" type="text" id="userFilter" placeholder="Search User..." onkeyup="filterUserList()">
                                                        <select class="form-select" id="user" name="user">
                                                            <option selected disabled value="">Choose...</option>
                                                            {% for user in users %}
                                                                <option value="{{ user.id }}" {% if lead.user and lead.user.id == user.id %}selected{% endif %}>
                                                                    {{ user.username }} 
                                                                </option>
                                                            {% endfor %}
                                                        </select>
                                                </div> -->
                                                    <div class="col-md-2 mt-4">
                                                        <button type="submit" class="btn btn-primary">Filter</button>
                                                    </div>
                                                    <div class="col-md-2 mt-4">
                                                        <a href="{% url 'lead' %}" class="btn btn-secondary">Cancel</a>
                                                    </div>
                                                </form >
                                                </div>
                                           
                                            <thead>
                                                <tr>
                                                    <th>Name</th>
                                                    <th>Phone Number</th>
                                                    <th>Gender</th>
                                                    <th>State</th>
                                                    <th>College Name</th>
                                                    <th>Passout</th>
                                                    <th>Source</th>
                                                    <th>Tech Fields</th>
                                                    <th>Status</th>
                                                    <th>Lead</th>
                                                    <th>Date</th>
                                                    <th>Follow Up</th>
                                                    <th>Assign</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                {% for lead in leading %}
                                                <tr>
                                                    <td>{{ lead.name }}</td>
                                                    <td>{{ lead.phone }}</td>
                                                    <td>{{ lead.gender }}</td>
                                                    <td>{{ lead.city }}</td>
                                                    <td>{{ lead.college_name }}</td>
                                                    <td>{{ lead.passout }}</td>
                                                    <td>{{ lead.source }}</td>
                                                    <td>{{ lead.tech_field }}</td>
                                                    <td>{{ lead.status.identity }}</td>
                                                    <td>{{ lead.is_lead|yesno:"Yes,No"}}</td>
                                                    <td>{{ lead.created_at }}</td>
                                                    <td>{{ lead.follow_up }}</td>
                                                    <td>{{ lead.user }}</td>
                                                    {% if request.user == user or request.user.is_superuser %}
                                                    <td>
                                                        <a href="{% url 'edit-lead' lead.id %}" title="Edit Lead">
                                                            <i class="fas fa-edit" style="color: #007bff; cursor: pointer;"></i>
                                                        </a>
                                                        &nbsp;
                                                        <a href="#" title="Delete Lead" data-bs-toggle="modal" data-bs-target="#deleteModal" onclick="setDeleteUrl({{ lead.id }})">
                                                            <i class="fas fa-trash-alt" style="color: #dc3545; cursor: pointer;"></i>
                                                        </a>
                                                    </td>
                                                    {% else %}
                                                    <p>You do not have permission to action.</p>
                                                    {% endif %}
                                                </tr>
                                                {% endfor %}
                                               
                                            </tbody>
                                            
                                        </table>
                                       
                                    </div>
                                </div>
                            </div>
                            </div>
                    </div>
                </div>
                <!-- Container-fluid Ends-->
            </div>
            <!-- footer start-->
            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12 footer-copyright text-center">
                            <p class="mb-0">Copyright <span class="year-update"> </span> ©  Sales Management </p>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    
    <script>
        function setDeleteUrl(leadId) {
            const deleteUrl = "{% url 'delete-lead' 0 %}".replace('/0/', '/' + leadId + '/');
            document.getElementById('confirmDeleteBtn').href = deleteUrl;
        }
    // Function to preserve filter values
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);

        // Set each filter input based on URL parameters
        document.getElementById('location').value = urlParams.get('location') || '';
        document.getElementById('jobType').value = urlParams.get('jobType') || '';
    };

    // Clear filter function
    function clearFilter() {
        // Clear the form fields
        document.getElementById('location').value = '';
        document.getElementById('jobType').value = '';
        // Redirect to the base URL without parameters
        window.location.href = '/your-job-search-url';
    }
    </script>
    <script>
        document.getElementById('startDate').addEventListener('change', function() {
            const startDate = this.value;
            const endDateInput = document.getElementById('endDate');
            
            // Set the min attribute of the end date input to the selected start date
            endDateInput.min = startDate;
        });
    </script>
     <script>
        function setDeleteUrl(leadId) {
            const deleteUrl = "{% url 'delete-lead' 0 %}".replace('/0/', '/' + leadId + '/');
            document.getElementById('confirmDeleteBtn').href = deleteUrl;
        }
    // Function to preserve filter values
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);


        const startDate = urlParams.get('start_date');
        const endDate = urlParams.get('end_date');

        // Set the date input fields if values are present
        if (startDate) {
            document.getElementById('startDate').value = new Date(startDate).toISOString().split('T')[0];
        }
        if (endDate) {
            document.getElementById('endDate').value = new Date(endDate).toISOString().split('T')[0];
        }

        
        // document.getElementById('startDate').value = urlParams.get('startDate') || '';
        // document.getElementById('endDate').value = urlParams.get('endDate') || '';
        document.getElementById('city').value = urlParams.get('city') || '';
        document.getElementById('source').value = urlParams.get('source') || '';
        document.getElementById('tech_field').value = urlParams.get('tech_field') || '';
        document.getElementById('gender').value = urlParams.get('gender') || '';
        
    };

    // Clear filter function
    function clearFilter() {
        // Clear the form fields
            document.getElementById('startDate').value = '';
            document.getElementById('endDate').value = '';
            document.getElementById('city').value = '';
            document.getElementById('source').value = '';
            document.getElementById('tech_field').value = '';
            document.getElementById('gender').value = '';
        // Redirect to the base URL without parameters
        window.location.href = '/your-job-search-url';
    }
    </script>
 <!-- latest jquery-->
<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<!-- Bootstrap js-->
<script src="{% static 'assets/js/bootstrap/bootstrap.bundle.min.js' %}"></script>
<!-- feather icon js-->
<script src="{% static 'assets/js/icons/feather-icon/feather.min.js' %}"></script>
<script src="{% static 'assets/js/icons/feather-icon/feather-icon.js' %}"></script>
<!-- scrollbar js-->
<script src="{% static 'assets/js/scrollbar/simplebar.min.js' %}"></script>
<script src="{% static 'assets/js/scrollbar/custom.js' %}"></script>
<!-- Sidebar jquery-->
<script src="{% static 'assets/js/config.js' %}"></script>
<!-- Plugins JS start-->
<script src="{% static 'assets/js/sidebar-menu.js' %}"></script>
<script src="{% static 'assets/js/sidebar-pin.js' %}"></script>
<script src="{% static 'assets/js/slick/slick.min.js' %}"></script>
<script src="{% static 'assets/js/slick/slick.js' %}"></script>
<script src="{% static 'assets/js/header-slick.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatables/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatables/dataTables1.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatables/dataTables.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.autoFill.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/autoFill.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.keyTable.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/keyTable.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.buttons.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/buttons.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/buttons.colVis.min.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.fixedHeader.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/fixedHeader.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/jszip.min.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/pdfmake.min.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/vfs_fonts.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/buttons.html5.min.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.responsive.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/responsive.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/dataTables.rowReorder.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/rowReorder.bootstrap5.js' %}"></script>
<script src="{% static 'assets/js/datatable/datatable-extension/custom.js' %}"></script>
<!-- Plugins JS Ends-->
<!-- Theme js-->
<script src="{% static 'assets/js/script.js' %}"></script>
<script src="{% static 'assets/js/script1.js' %}"></script>

<script>
    function toggleDateInputs() {
    var filterType = document.getElementById('filterType').value;
    var dateInputs = document.querySelectorAll('.date-inputs');
    
    if (filterType === 'custom') {
        dateInputs.forEach(function(input) {
            input.style.display = 'block';
        });
    } else {
        dateInputs.forEach(function(input) {
            input.style.display = 'none';
        });
    }
}

</script>
</body>

</html>